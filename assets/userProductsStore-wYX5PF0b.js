import{C as p,B as P,D as a}from"./index-5yd5wy7v.js";import{s as c}from"./showErrorToast-4Ldzj76j.js";var l={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"runweiting",VITE_TEXT:"這是部屬完成的環境",BASE_URL:"/funtime-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const g=p.useLoading({}),{VITE_APP_URL:i,VITE_APP_PATH:n}=l,f=P("userProductsStore",{state:()=>({productList:[],pagination:{},product:{}}),actions:{async getProducts(t,s=1){const o=g.show();let e=`${i}/api/${n}/products?page=${s}`;t&&(e+=`&category=${t}`);try{const r=await a.get(e),{products:u,pagination:d}=r.data;this.productList=u,this.pagination=d,this.sortProducts()}catch(r){console.log(r),c(r.response.data.message)}finally{o.hide()}},sortProducts(){this.productList=this.productList.sort((t,s)=>t.price-s.price)},async getProduct(t){const s=`${i}/api/${n}/product/${t}`;try{const o=await a.get(s);this.product=o.data.product}catch(o){console.log(o),c(o)}}}});export{f as u};
