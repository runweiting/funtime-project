import{_,o as r,c,t as h,m as O,s as T,r as f,a as i,F as p,u as b,d as m,b as v}from"./index-UvZFmlvX.js";import{u as x}from"./userProductsStore-fka_KMza.js";import"./showErrorToast-1wWGzD5-.js";let g=0;const w="webkit moz ms o".split(" ");let o,n;const N=typeof window>"u";if(N)o=function(){},n=function(){};else{o=window.requestAnimationFrame,n=window.cancelAnimationFrame;let t;for(let s=0;s<w.length&&!(o&&n);s++)t=w[s],o=o||window[t+"RequestAnimationFrame"],n=n||window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"];(!o||!n)&&(o=function(s){const e=new Date().getTime(),a=Math.max(0,16-(e-g)),l=window.setTimeout(()=>{s(e+a)},a);return g=e+a,l},n=function(s){window.clearTimeout(s)})}const P={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default(t,s,e,a){return e*(-Math.pow(2,-10*t/a)+1)*1024/1023+s}}},data(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown(){return this.startVal>this.endVal}},watch:{startVal(){this.autoplay&&this.start()},endVal(){this.autoplay&&this.start()}},mounted(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=o(this.count)},pauseResume(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause(){n(this.rAF)},resume(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,o(this.count)},reset(){this.startTime=null,n(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count(t){this.startTime||(this.startTime=t),this.timestamp=t;const s=t-this.startTime;this.remaining=this.localDuration-s,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(s,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(s,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(s/this.localDuration):this.printVal=this.localStartVal+(this.endVal-this.localStartVal)*(s/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),s<this.localDuration?this.rAF=o(this.count):this.$emit("callback")},isNumber(t){return!isNaN(parseFloat(t))},formatNumber(t){t=t.toFixed(this.decimals),t+="";const s=t.split(".");let e=s[0];const a=s.length>1?this.decimal+s[1]:"",l=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;l.test(e);)e=e.replace(l,"$1"+this.separator+"$2");return this.prefix+e+a+this.suffix}},destroyed(){n(this.rAF)}};function j(t,s,e,a,l,V){return r(),c("span",null,h(l.displayValue),1)}const u=_(P,[["render",j]]);function q(t,s,e){return s in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e,t}function y(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),e.push.apply(e,a)}return e}u.unmounted=u.destroyed,Reflect.deleteProperty(u,"destroyed");var A=function(t){for(var s=1;s<arguments.length;s++){var e=arguments[s]!=null?arguments[s]:{};s%2?y(Object(e),!0).forEach(function(a){q(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}({name:"CountTo",emits:["callback","mountedCallback"]},u);const $={components:{CountTo:A},data(){return{countStart:0,countEnd:50,product:{}}},mounted(){this.getProducts()},computed:{...O(x,["productList"])},methods:{...T(x,["getProducts"])}},z=m('<div class="m-3 m-lg-6"><div class="container bg-primary rounded-5 p-5 p-md-10" data-aos="fade-up"><div class="row"><div class="col"><div class="d-flex flex-column justify-content-center align-items-center gap-5"><h2 class="fs-1 text-white fw-bold mb-0">企劃排名</h2><h5 class="text-white responsive-lh-ls text-normal mb-0"> 對喜歡的企劃按贊、留言，增加人氣，告訴我們你的想法，一起探索信仰的美好！ </h5></div></div></div></div></div>',1),C={class:"m-3 m-lg-6"},E={class:"container p-5 p-md-10","data-aos":"fade-up"},B={class:"row row-cols-1 row-cols-xl-2"},R={class:"col-xl-9"},L=m('<div class="row row-cols-1"><div class="col px-0 px-md-3 mb-3 mb-lg-6"><div class="d-flex align-items-baseline gap-2"><h2 class="d-none d-sm-block fw-bold mb-0">Ranking</h2><h4 class="fw-bold mb-0">企劃排名</h4></div></div></div>',1),M={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3 gy-5 mb-5 mb-md-10 position-relative"},U={class:"card h-100 shadow-sm position-relative",style:{cursor:"pointer"}},K=i("button",{type:"button",class:"btn position-absolute p-0 hvr-pulse"},[i("i",{class:"bi bi-heart-fill fs-5"})],-1),G=["src"],H={class:"card-body d-flex flex-column justify-content-between"},I={class:"card-title fw-bold"},J={class:"row gx-0 mb-2"},Q=i("div",{class:"col-4"},[i("div",{class:"h-100 pt-4"},[i("small",{class:"fst-italic text-gray-dark"},"累計")])],-1),W={class:"col-8"},X={class:"d-flex justify-content-end align-items-baseline gap-2"},Y=i("div",{class:"d-flex align-items-center gap-2"},[i("small",{class:"fst-italic fw-bold"},"個"),i("i",{class:"bi bi-heart-fill text-danger"})],-1),Z={class:"d-flex justify-content-end gap-2"},tt={class:"badge rounded-pill bg-primary text-white",style:{bottom:"16px",right:"16px"}},st=i("div",{class:"col bg-secondary rounded-5 position-absolute z-index-n1 d-none d-md-block",style:{width:"100%",height:"40px",bottom:"-20px"}},null,-1),et=m('<div class="col-xl-3"><div class="row row-cols-1"><div class="col px-0 px-md-3 mb-3 mb-lg-6"><div class="d-flex align-items-baseline gap-2"><h2 class="d-none d-sm-block fw-bold mb-0">Tags</h2><h4 class="fw-bold mb-0">熱門標籤</h4></div></div></div><div class="row row-cols-1"><div class="col px-0 px-md-3"><div class="bg-light rounded-5 p-5"><ol class="row row-cols-1 list-unstyled gy-2 mb-0"><li class="col-md-6 col-xl-12"><div class="row align-items-center"><div class="col-3 px-0 d-flex justify-content-end align-items-center gap-2 pe-1"><div class="bg-white border rounded-circle border-3 border-black position-relative" style="width:35px;height:35px;"><span class="text-black position-absolute top-50 start-50 translate-middle z-index-10" style="font-size:18px;">1</span></div><span class="text-black" style="font-size:18px;">#</span></div><div class="col-9 px-0"><span class="text-black text-wrap" style="font-size:18px;">總是讀不完創世記呀～</span></div></div></li><li class="col-md-6 col-xl-12"><div class="row align-items-center"><div class="col-3 px-0 d-flex justify-content-end align-items-center gap-2 pe-1"><div class="bg-white border rounded-circle border-3 border-black position-relative" style="width:35px;height:35px;"><span class="text-black position-absolute top-50 start-50 translate-middle z-index-10" style="font-size:18px;">1</span></div><span class="text-black" style="font-size:18px;">#</span></div><div class="col-9 px-0"><span class="text-black text-wrap" style="font-size:18px;">總是讀不完創世記呀～</span></div></div></li></ol></div></div></div></div>',1);function it(t,s,e,a,l,V){const k=f("router-link"),S=f("count-to");return r(),c(p,null,[z,i("div",C,[i("div",E,[i("div",B,[i("div",R,[L,i("div",M,[(r(!0),c(p,null,b(t.productList,d=>(r(),c("div",{key:d.id,class:"col mb-md-0 px-0 px-md-3"},[i("div",U,[v(k,{to:`/product/${d.id}`,class:"stretched-link"},null,8,["to"]),K,i("img",{src:d.imageUrl,class:"card-img-top object-fit-cover img-fluid"},null,8,G),i("div",H,[i("h5",I,h(d.title),1),i("div",J,[Q,i("div",W,[i("div",X,[v(S,{startVal:l.countStart,endVal:l.countEnd,duration:5e3,class:"display-1 fst-italic fw-bold"},null,8,["startVal","endVal"]),Y])])]),i("div",Z,[(r(!0),c(p,null,b(d.tags,(F,D)=>(r(),c("div",{key:D},[i("span",tt,h(`# ${F}`),1)]))),128))])])])]))),128)),st])]),et])])])],64)}const nt=_($,[["render",it]]);export{nt as default};
