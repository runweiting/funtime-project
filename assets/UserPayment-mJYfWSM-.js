import{_ as w,m as C,s as D,r as m,o as n,c,b as d,a as e,t,x as b,F as p,u as f,w as M,e as i,z as U,A as S}from"./index-5yd5wy7v.js";import{u as v}from"./userOrderStore-0sq_TrPk.js";import{O as F}from"./OrderHeader-tLI7Uk_9.js";import{O as P}from"./OrderSteps-2PIaqNDS.js";import{t as T}from"./timestampToDate-lwWXufjj.js";import"./showSuccessToast-B7hSi17v.js";import"./showErrorToast-4Ldzj76j.js";import"./userCartStore-dhj3cExC.js";const E={components:{OrderHeader:F,OrderSteps:P},data(){return{currentFundraisingSteps:2,currentProgress:3,invoice_individual:"",invoice_mobile:"",mobile_carrier:"",invoice_company:"",company_name:"",company_ubn:"",creditCard:"",bank_transfer:"",cardholder:"",creditCard_number:"",expiryDate_month:"",expiryDate_year:"",creditCard_cvv:""}},computed:{...C(v,["order"])},methods:{...D(v,["postPay"]),formatDate(r){const{formattedDate:s,formattedTime:h}=T(r);return{formattedDate:s,formattedTime:h}},onSubmit(){this.postPay(this.order.id),this.$refs.formPayment.resetForm(),this.$router.push({name:"payment-result"})}}},N={class:"mx-3 mx-lg-10"},O={class:"container px-lg-12 py-3 py-lg-6"},j={class:"row row-cols-1 gy-3"},A={class:"col-md-6 col-lg-5 px-xl-4"},B={class:"rounded-5 border border-5 border-light p-5"},Y={class:"row row-cols-1 gy-5"},q={class:"col px-8 px-xl-10"},z={class:"row row-cols-md-1 row-cols-sm-2 align-items-center"},H={class:"col-sm-7"},L={class:"d-flex gap-2 text-dark-gray mb-2"},G=e("span",null,"訂單時間",-1),I={key:0},J={class:"d-flex gap-2 text-dark-gray"},K=e("span",null,"訂單編號",-1),Q=e("div",{class:"col-sm-5"},[e("div",{class:"d-flex justify-content-start justify-content-sm-center justify-content-md-start align-items-center gap-2 gap-lg-4 pt-4 pt-sm-0 pt-md-4"},[e("i",{class:"bi bi-alarm-fill text-info fs-4"}),e("h4",{class:"mb-0"},"通知付款")])],-1),R={class:"col px-xl-5"},W={class:"d-flex flex-column justify-content-between"},X={class:"rounded-5 border border-light border-3 p-4"},Z=e("thead",null,[e("tr",null,[e("th",{scope:"col",colspan:"3",class:"fs-5"},"預購資訊")])],-1),$={class:"align-middle"},ee=e("th",{scope:"row"},[i("預購"),e("br",{class:"d-414-block"}),i("金額")],-1),oe={class:"fs-5 fw-bold"},se={key:0,class:"d-flex gap-2 mt-1"},le=e("i",{class:"bi bi-check-circle-fill text-dark-secondary"},null,-1),te={class:"text-dark-gray"},re={class:"text-dark-gray"},de=e("th",{scope:"row"},[i("預購"),e("br",{class:"d-414-block"}),i("內容")],-1),ae={class:"fs-5 fw-bold"},ie={class:"text-dark-gray mt-1"},ne=e("th",{scope:"row"},[i("收件"),e("br",{class:"d-414-block"}),i("訊息")],-1),ce={colspan:"2"},me={class:"list-unstyled mb-0 text-dark-gray"},_e=e("tr",null,[e("th",{scope:"row"},[i("付款"),e("br",{class:"d-414-block"}),i("狀態")]),e("td",{colspan:"2"},[e("div",{class:"d-flex gap-2"},[e("i",{class:"bi bi-alarm-fill text-info"}),e("span",{class:"text-dark-gray"},"通知付款")])])],-1),ue={class:"col-md-6 col-lg-7 px-xl-4"},pe={class:"d-none p-5"},he=e("h3",{class:"fs-5"},"會員資料",-1),be={ref:"form-member"},fe={class:"form-floating mb-3"},ve=e("input",{type:"email",class:"form-control",id:"floatingEmail",name:"email",placeholder:"請輸入email",disabled:""},null,-1),ge=e("label",{for:"floatingEmail",class:"form-label"},"Email",-1),ye={class:"row"},xe={class:"col"},ke={class:"form-floating mb-3"},Ve=e("input",{type:"text",class:"form-control",id:"floatingName",name:"姓名",placeholder:"請輸入姓名",disabled:""},null,-1),we=e("label",{for:"floatingName",class:"form-label"},"收件人姓名",-1),Ce={class:"col"},De={class:"form-floating mb-3"},Me=e("input",{type:"tel",class:"form-control",id:"floatingTel",name:"手機",disabled:""},null,-1),Ue=e("label",{for:"floatingTel",class:"form-label"},"手機",-1),Se={class:"rounded-5 border border-5 border-light p-5 mb-3"},Fe=e("h3",{class:"fs-5"},"發票類型",-1),Pe={class:"row row-cols-1 gy-2"},Te={class:"col"},Ee={class:"rounded-5 border border-light border-3 p-4"},Ne={class:"row row-cols-1 row-cols-sm-2 gy-3"},Oe={class:"col"},je={class:"form-check ps-10"},Ae=e("label",{class:"form-check-label text-dark-gray",for:"invoice_individual"}," 個人發票 ",-1),Be={class:"col"},Ye=e("label",{for:"mobile_carrier",class:"form-label text-dark-gray"},"手機載具",-1),qe={class:"input-group"},ze={class:"col"},He={class:"rounded-5 border border-light border-3 p-4"},Le={class:"row row-cols-1 row-cols-sm-2 gy-3"},Ge={class:"col"},Ie={class:"form-check ps-10"},Je=e("label",{class:"form-check-label text-dark-gray",for:"invoice_company"}," 公司發票 ",-1),Ke={class:"col"},Qe=e("label",{for:"company_ubn",class:"form-label text-dark-gray"},"統一編號",-1),Re={class:"input-group mb-2"},We=e("label",{for:"company_name",class:"form-label text-dark-gray"},"公司抬頭",-1),Xe={class:"input-group"},Ze={class:"rounded-5 border border-5 border-light p-5"},$e=e("h3",{class:"fs-5"},"付款方式",-1),eo={class:"row row-cols-1 gy-2 mb-3"},oo={class:"col"},so={class:"rounded-5 border border-light border-3 p-4"},lo={class:"row mb-3"},to={class:"col"},ro={class:"form-check ps-10"},ao=e("label",{class:"form-check-label text-dark-gray",for:"creditCard"}," 線上刷卡 ",-1),io={class:"row row-cols-2"},no={class:"col-4 pe-0"},co=e("label",{for:"cardholder",class:"form-label text-dark-gray"},"持卡人",-1),mo={class:"input-group mb-2"},_o={class:"col-8 ps-2"},uo=e("label",{for:"credit-card-number",class:"form-label text-dark-gray"},"信用卡號碼",-1),po={class:"input-group"},ho={class:"row row-cols-3"},bo={class:"col pe-0"},fo=e("label",{for:"expiryDate",class:"form-label text-dark-gray"},"有效期限",-1),vo={class:"input-group mb-4"},go={class:"col px-2"},yo={class:"input-group"},xo={class:"col ps-0"},ko=e("label",{for:"creditCard_cvv",class:"form-label text-dark-gray"},"安全碼",-1),Vo={class:"input-group mb-4"},wo={class:"col"},Co={class:"rounded-5 border border-light border-3 p-4"},Do={class:"row mb-4"},Mo={class:"col"},Uo={class:"form-check ps-10"},So=e("label",{class:"form-check-label text-dark-gray",for:"bank_transfer"}," ATM虛擬帳號轉帳 ",-1),Fo=e("div",{class:"row"},[e("div",{class:"col"},[e("div",{class:"d-flex gap-2 mb-2 text-dark-gray"},[e("span",null,"繳費銀行名稱："),e("span",null,"六角銀行")]),e("div",{class:"d-flex gap-2 mb-2 text-dark-gray"},[e("span",null,"繳費銀行代碼："),e("span",null,"xxx")]),e("div",{class:"d-flex gap-2 mb-2 text-dark-gray"},[e("span",null,"繳費虛擬帳號："),e("span",null,"xxxx xxxx xxxx xxxx")])])],-1),Po=e("div",{class:"text-end"},[e("button",{type:"submit",class:"btn btn-primary text-white"},"確認付款")],-1);function To(r,s,h,Eo,l,_){const g=m("order-header"),y=m("order-steps"),u=m("ErrorMessage"),a=m("VField"),x=m("VForm");return n(),c(p,null,[d(g,{currentFundraisingSteps:l.currentFundraisingSteps},null,8,["currentFundraisingSteps"]),d(y,{currentProgress:l.currentProgress},null,8,["currentProgress"]),e("div",N,[e("div",O,[e("div",j,[e("div",A,[e("div",B,[e("div",Y,[e("div",q,[e("div",z,[e("div",H,[e("div",L,[G,r.order.create_at?(n(),c("span",I,t(_.formatDate(r.order.create_at).formattedDate)+" "+t(_.formatDate(r.order.create_at).formattedTime),1)):b("",!0)]),e("div",J,[K,e("span",null,t(r.order.id),1)])]),Q])]),e("div",R,[e("div",W,[e("div",X,[(n(!0),c(p,null,f(r.order.products,o=>(n(),c("table",{key:o.id,class:"table table-border mb-0"},[Z,e("tbody",$,[e("tr",null,[ee,e("td",null,[e("span",oe,"NT$ "+t(o.total)+"元",1),o.coupon?(n(),c("div",se,[le,e("span",te,"已使用優惠卷："+t(o.coupon.code),1),e("span",re,t(o.coupon.title),1)])):b("",!0)])]),e("tr",null,[de,e("td",null,[e("span",ae,t(o.product.short_title)+t(o.qty)+"套",1),e("div",ie,[i(" 完整 1 套內含： "),(n(!0),c(p,null,f(o.product.contents,(k,V)=>(n(),c("ul",{key:V,class:"list-unstyled mb-0"},[e("li",null,t(k),1)]))),128))])])]),e("tr",null,[ne,e("td",ce,[e("ul",me,[e("li",null,"姓名："+t(r.order.user.name),1),e("li",null,"手機："+t(r.order.user.tel),1),e("li",null,"Email："+t(r.order.user.email),1),e("li",null,"運送："+t(r.order.user.shipment),1),e("li",null,"地址："+t(r.order.user.postcode)+t(r.order.user.country)+t(r.order.user.city)+t(r.order.user.region)+t(r.order.user.address),1),e("li",null,"備註："+t(r.order.user.message),1)])])]),_e])]))),128))])])])])])]),e("div",ue,[d(x,{ref:"formPayment",onSubmit:_.onSubmit},{default:M(()=>[e("div",pe,[he,e("form",be,[e("div",fe,[ve,ge,d(u,{name:"email",class:"invalid-feedback"})]),e("div",ye,[e("div",xe,[e("div",ke,[Ve,we,d(u,{name:"姓名",class:"invalid-feedback"})])]),e("div",Ce,[e("div",De,[Me,Ue,d(u,{name:"手機",class:"invalid-feedback"})])])])],512)]),e("div",Se,[Fe,e("div",Pe,[e("div",Te,[e("div",Ee,[e("div",Ne,[e("div",Oe,[e("div",je,[d(a,{modelValue:l.invoice_individual,"onUpdate:modelValue":s[0]||(s[0]=o=>l.invoice_individual=o),class:"form-check-input",style:{"margin-left":"-2rem"},type:"checkbox",name:"invoice_individual",id:"invoice_individual",value:"true"},null,8,["modelValue"]),Ae])]),e("div",Be,[Ye,e("div",qe,[d(a,{modelValue:l.mobile_carrier,"onUpdate:modelValue":s[1]||(s[1]=o=>l.mobile_carrier=o),modelModifiers:{trim:!0},type:"text",class:"form-control placeholder-light",name:"手機載具",placeholder:"請填入手機載具",disabled:""},null,8,["modelValue"])])])])])]),e("div",ze,[e("div",He,[e("div",Le,[e("div",Ge,[e("div",Ie,[d(a,{modelValue:l.invoice_company,"onUpdate:modelValue":s[2]||(s[2]=o=>l.invoice_company=o),class:"form-check-input",style:{"margin-left":"-2rem"},type:"checkbox",name:"invoice_company",id:"invoice_company",value:"true"},null,8,["modelValue"]),Je])]),e("div",Ke,[Qe,e("div",Re,[d(a,{modelValue:l.company_ubn,"onUpdate:modelValue":s[3]||(s[3]=o=>l.company_ubn=o),modelModifiers:{trim:!0},type:"text",class:"form-control placeholder-light",name:"統一編號",placeholder:"請填入統一編號"},null,8,["modelValue"])]),We,e("div",Xe,[U(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>l.company_name=o),type:"text",class:"form-control placeholder-light",name:"公司抬頭",placeholder:"請填入公司抬頭"},null,512),[[S,l.company_name,void 0,{trim:!0}]])])])])])])])]),e("div",Ze,[$e,e("div",eo,[e("div",oo,[e("div",so,[e("div",lo,[e("div",to,[e("div",ro,[d(a,{modelValue:l.creditCard,"onUpdate:modelValue":s[5]||(s[5]=o=>l.creditCard=o),class:"form-check-input",style:{"margin-left":"-2rem"},type:"checkbox",name:"creditCard",id:"creditCard",value:"true"},null,8,["modelValue"]),ao])])]),e("div",io,[e("div",no,[co,e("div",mo,[d(a,{modelValue:l.cardholder,"onUpdate:modelValue":s[6]||(s[6]=o=>l.cardholder=o),modelModifiers:{trim:!0},type:"text",class:"form-control placeholder-light",name:"持卡人",placeholder:"請填入姓名"},null,8,["modelValue"])])]),e("div",_o,[uo,e("div",po,[d(a,{modelValue:l.creditCard_number,"onUpdate:modelValue":s[7]||(s[7]=o=>l.creditCard_number=o),modelModifiers:{trim:!0},type:"text",class:"form-control placeholder-light",name:"信用卡號碼",placeholder:"請填入卡號"},null,8,["modelValue"])])])]),e("div",ho,[e("div",bo,[fo,e("div",vo,[d(a,{modelValue:l.expiryDate_month,"onUpdate:modelValue":s[8]||(s[8]=o=>l.expiryDate_month=o),modelModifiers:{trim:!0},type:"text",class:"form-control placeholder-light",name:"有效月份",placeholder:"MM"},null,8,["modelValue"])])]),e("div",go,[e("div",yo,[d(a,{modelValue:l.expiryDate_year,"onUpdate:modelValue":s[9]||(s[9]=o=>l.expiryDate_year=o),modelModifiers:{trim:!0},type:"text",class:"form-control placeholder-light align-self-end",name:"有效年份",placeholder:"YY",style:{"margin-top":"32px"}},null,8,["modelValue"])])]),e("div",xo,[ko,e("div",Vo,[d(a,{modelValue:l.creditCard_cvv,"onUpdate:modelValue":s[10]||(s[10]=o=>l.creditCard_cvv=o),modelModifiers:{trim:!0},type:"text",class:"form-control placeholder-light",name:"安全碼",placeholder:"CVV"},null,8,["modelValue"])])])])])]),e("div",wo,[e("div",Co,[e("div",Do,[e("div",Mo,[e("div",Uo,[d(a,{modelValue:l.bank_transfer,"onUpdate:modelValue":s[11]||(s[11]=o=>l.bank_transfer=o),class:"form-check-input",style:{"margin-left":"-2rem"},type:"checkbox",name:"虛擬轉帳",id:"bank_transfer",value:"true"},null,8,["modelValue"]),So])])]),Fo])])]),Po])]),_:1},8,["onSubmit"])])])])])],64)}const Ho=w(E,[["render",To]]);export{Ho as default};
