import{_ as y,m as k,s as u,S as m,r as h,o as l,c,a as s,b as i,w as _,t as e,F as g,u as w,d as $,e as d}from"./index-UvZFmlvX.js";import{u as x}from"./userProductsStore-fka_KMza.js";import{c as C}from"./userCartStore-jGcpH34R.js";import{F as T}from"./FundraisingSteps-PfcMjFZK.js";import"./showErrorToast-1wWGzD5-.js";import"./showSuccessToast-bQTajdBV.js";const S={components:{FundraisingSteps:T},data(){return{apiUrl:"https://vue3-course-api.hexschool.io/v2",apiPath:"runweiting"}},mounted(){const{id:t}=this.$route.params;this.getProduct(t)},computed:{...k(x,["product"])},methods:{...u(x,["getProduct"]),...u(C,["addToCart"]),handleAddToCart(t,o){this.addToCart(t,o),this.$router.push({name:"order"})},createOrder(t){const o={data:t},n=`${this.apiUrl}/api/${this.apiPath}/order`;this.axios.post(n,o).then(a=>{m.fire({title:a.data.message,icon:"success",confirmButtonText:"OK"}),this.$refs.orderDetail.resetForm(),this.getCart()}).catch(a=>{m.fire({title:a.data.message,icon:"error",confirmButtonText:"OK"})})}}},N={class:"mx-3 mx-lg-10"},B={class:"container px-lg-12 mb-3 mb-lg-6"},F={class:"row row-cols-1 gy-3 gy-lg-6 row-cols-md-2 px-md-2 px-lg-3 px-xl-4"},P={class:"col px-xl-4"},j={class:"h-100 d-flex flex-column justify-content-between"},U={class:"d-flex gap-2 mb-3","aria-label":"breadcrumb"},V={class:"text-dark-gray"},A=s("small",{class:"text-dark-gray"},"/",-1),L={class:"text-dark-gray"},O={class:"fs-4 card-title fw-bold mb-3"},D={class:"d-flex align-items-baseline gap-3"},E=s("small",{class:"text-dark-gray"},"提案人",-1),K={class:"text-dark-gray"},R={class:"col px-xl-4"},G=$('<div class="mx-3 mx-lg-10"><div class="container bg-light rounded-5 px-6 py-3 px-lg-12 px-xl-15 mb-3 mb-lg-6"><div class="row"><div class="col text-center"><small class="text-dark-gray" style="letter-spacing:8px;">請以下選擇方案</small></div></div></div></div>',1),q={class:"mx-3 mx-lg-10"},z={class:"container px-lg-12 pb-12"},H={class:"row gy-3 gy-lg-6"},I={class:"d-flex flex-column justify-content-between rounded-5 border border-5 border-light p-5 gap-3 position-relative",style:{cursor:"pointer"}},J=["onClick"],M=["src"],Q={class:"fs-6 text-dark-gray mb-0"},W={class:"d-flex justify-content-between align-items-center"},X={class:"d-flex gap-2"},Y={class:"fw-bold mb-0"},Z={class:"badge bg-info-light text-black"},ss=s("span",{class:"badge bg-danger"},"剩餘"+e("待處理")+"份",-1),ts={class:"text-dark-gray"},es=s("span",null,"本方案內含：",-1),os=s("br",null,null,-1),as={class:"fs-5 fw-bold"},rs=s("hr",{class:"w-100 border-top my-1",style:{border:"3px dotted #8C8C8E"}},null,-1),ds=s("div",{class:"d-flex gap-2"},[s("i",{class:"bi bi-check-circle-fill text-dark-secondary"}),s("small",null,"臺灣本島免運、可寄離島")],-1);function ls(t,o,n,a,cs,f){const p=h("RouterLink"),b=h("fundraising-steps");return l(),c(g,null,[s("div",N,[s("div",B,[s("div",F,[s("div",P,[s("div",j,[s("nav",U,[s("small",V,[i(p,{to:{name:"home"},class:"nav-link text-decoration-none text-nowrap"},{default:_(()=>[d(e(t.$t("menu.home")),1)]),_:1})]),A,s("small",L,[i(p,{to:{name:"products"},class:"nav-link text-decoration-none text-nowrap"},{default:_(()=>[d(e(t.$t("menu.products")),1)]),_:1})])]),s("h2",O,e(t.product.title),1),s("div",D,[E,s("small",K,e(t.product.proposer),1)])])]),s("div",R,[i(b)])])])]),G,s("div",q,[s("div",z,[s("div",H,[(l(!0),c(g,null,w(t.product.packages,(r,v)=>(l(),c("div",{key:v,class:"col px-xl-4"},[s("div",I,[s("a",{onClick:is=>f.handleAddToCart(t.product.id,r.units),class:"stretched-link"},null,8,J),s("img",{src:t.product.imageUrl,class:"card-img-top object-fit-cover img-fluid rounded",alt:"boardGame1",style:{"max-height":"100px"}},null,8,M),s("h3",Q,e(r.name),1),s("div",W,[s("div",X,[s("h5",Y,"NT$ "+e(t.product.price*t.product.discount*r.units),1),s("span",Z,e(t.product.discount*100)+"折",1)]),ss]),s("small",ts,[d("預定售價 "),s("del",null,"NT$ "+e(t.product.price),1),d("，現省 NT$ "+e(t.product.price-t.product.price*t.product.discount),1)]),s("div",null,[es,os,s("span",as,e(t.product.short_title)+e(r.units)+" 套",1)]),rs,ds])]))),128))])])])],64)}const gs=y(S,[["render",ls]]);export{gs as default};
