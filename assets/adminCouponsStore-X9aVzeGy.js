import{z as m,A as e}from"./index-_JC11hTP.js";import{s as i}from"./showSuccessToast-K-RHH7B1.js";import{s as a}from"./showErrorToast-3p2Y-3vb.js";var h={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"runweiting",VITE_TEXT:"這是部屬完成的環境",BASE_URL:"/funtime-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:n,VITE_APP_PATH:c}=h,P=m("couponsStore",{state:()=>({couponList:[],pagination:{},couponState:{},currentPage:null}),actions:{getCoupons(t=1){const s=`${n}/api/${c}/admin/coupons?page=${t}`;e.get(s).then(o=>{const{coupons:r,pagination:u}=o.data,d=r.map(p=>({...p,is_enabled:!!p.is_enabled}));this.couponList=d,this.pagination=u,this.currentPage=t}).catch(o=>{a(o.response.data.message)})},async postCoupon(t){const s=`${n}/api/${c}/coupon`;try{const o=await e.post(s,{data:{code:t}});this.couponState=o.data,i(o.data.message)}catch(o){a(o.response.data.message)}},clearCoupon(){this.couponState={}},deleteCoupon(t){const s=`${n}/api/${c}/admin/coupon/${t}`;e.delete(s).then(o=>{i(o.data.message),this.getCoupons()}).catch(o=>{a(o.response.data.message)})}}});export{P as c};
