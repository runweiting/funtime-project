import{H as p,I as r}from"./index-UvZFmlvX.js";import{s as i}from"./showSuccessToast-bQTajdBV.js";import{s as o}from"./showErrorToast-1wWGzD5-.js";const u=p({id:"loadingStore",state:()=>({loadingStatus:{getProduct:"",updateQty:""}})});var l={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"runweiting",VITE_TEXT:"這是部屬完成的環境",BASE_URL:"/funtime-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:c,VITE_APP_PATH:d}=l,m=p("userCartStore",{state:()=>({cartList:[],cartTotal:0}),actions:{addToCart(a,t){const s=`${c}/api/${d}/cart`,n={product_id:a,qty:t};r.post(s,{data:n}).then(e=>{i(e.data.message)}).catch(e=>{o(e)})},getCart(){const a=`${c}/api/${d}/cart`;r.get(a).then(t=>{this.cartList=t.data.data.carts,this.cartTotal=t.data.data.total}).catch(t=>{o(t.response.data.message)})},async putCart(a){const t=u();t.loadingStatus.updateQty=a.id;const s=`${c}/api/${d}/cart/${a.id}`,n={product_id:a.product_id,qty:a.qty};try{const e=await r.put(s,{data:n});i(e.data.message),t.loadingStatus.updateQty=""}catch(e){o(e.response.data.message)}finally{this.getCart()}},deleteCart(a){const t=`${c}/api/${d}/cart/${a}`;r.delete(t).then(s=>{i(s.data.message),this.getCart()}).catch(s=>{o(s.response.data.message)})},deleteCarts(){const a=`${c}/api/${d}/carts`;r.delete(a).then(t=>{i(t.data.message),this.getCart()}).catch(t=>{o(t.response.data.message)})}}});export{m as c,u as l};
