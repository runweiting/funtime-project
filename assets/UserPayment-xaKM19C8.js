import{_ as V,E as T,m as w,a as C,r as _,o as p,c as u,d as l,b as e,t as r,A as y,F as h,x as f,w as O,f as P,g as I,y as c}from"./index-DW-YAaVl.js";import{u as v}from"./userOrderStore-dN18pYGR.js";import{O as D}from"./OrderHeader-26bXFMTz.js";import{t as M}from"./timestampToDate-lwWXufjj.js";import"./showSuccessToast-4Q0mJWPL.js";import"./showErrorToast-3Rr6__rM.js";import"./userCartStore-hjhkMM_y.js";import"./userProductsStore-ag1QJfWQ.js";import"./FundraisingSteps-Ho4ZIUfU.js";const q={components:{OrderHeader:D,ErrorMessage:T},data(){return{currentFundraisingSteps:2,currentProgress:3,selectedInvoiceType:"",mobile_carrier:"",company_ubn:"",company_name:"",selectedPaymentType:"",cardHolder:"",creditCard_number:"",expiryDate_month:"",expiryDate_year:"",creditCard_cvv:"",tempOrderId:""}},mounted(){const{id:a}=this.$route.params;this.tempProductId=a},computed:{...w(v,["tempOrder"])},methods:{...C(v,["getOrder","postPay"]),formatDate(a){const{formattedDate:t,formattedTime:b}=M(a);return{formattedDate:t,formattedTime:b}},clearInput(){this.selectedInvoiceType==="individual"?(this.company_ubn="",this.company_name=""):this.selectedInvoiceType==="company"&&(this.mobile_carrier=""),this.selectedPaymentType==="bankTransfer"&&(this.cardHolder="",this.creditCard_number="",this.expiryDate_month="",this.expiryDate_year="",this.creditCard_cvv="")},onSubmit(){this.postPay(this.tempOrder.id),this.$refs.formPayment.resetForm(),this.$router.push({name:"payment-result",params:{id:this.tempProductId}})}}},U=P('<div class="mx-3 mx-lg-10"><div class="container bg-light rounded-5 px-6 py-3 px-lg-12 px-xl-15 mb-3 mb-lg-6"><div class="row"><div class="col text-center"><small class="text-dark-gray" style="letter-spacing:8px;">請填寫付款資料</small></div></div></div></div>',1),S={class:"mx-3 mx-lg-10"},F={class:"container px-lg-12 py-3 py-lg-6"},E={class:"row row-cols-1 gy-3"},N={class:"col-md-6 col-lg-5 px-xl-4"},H={class:"rounded-5 border border-5 border-light p-5"},j={class:"row row-cols-1 gy-5"},A={class:"col px-8"},B={class:"row row-cols-md-1 row-cols-sm-2 align-items-center"},Y={class:"col-sm-7"},z={class:"d-flex gap-1 text-dark-gray mb-2"},L=e("span",null,"時間",-1),G={key:0},J={class:"d-flex gap-1 text-dark-gray"},K=e("span",{class:"text-nowrap"},"編號",-1),Q=e("div",{class:"col-sm-5"},[e("div",{class:"d-flex justify-content-start justify-content-sm-center justify-content-md-start align-items-center gap-2 gap-lg-4 pt-4 pt-sm-0 pt-md-4"},[e("i",{class:"bi bi-alarm-fill text-info fs-4"}),e("h4",{class:"mb-0"},"通知付款")])],-1),R={class:"col px-xl-5"},W={class:"d-flex flex-column justify-content-between"},X={class:"rounded-5 border border-light border-3 p-4"},Z=e("thead",null,[e("tr",null,[e("th",{scope:"col",colspan:"3",class:"fs-5"},"預購資訊")])],-1),$={class:"align-middle"},ee=e("th",{scope:"row",style:{width:"22%"}},"金額",-1),se={class:"fs-5 fw-bold"},le={key:0,class:"d-flex gap-2 mt-1"},te=e("i",{class:"bi bi-check-circle-fill text-dark-secondary"},null,-1),oe={class:"text-dark-gray"},de={class:"text-dark-gray"},ae=e("th",{scope:"row",style:{width:"22%"}},"內容",-1),re={class:"fs-6 fw-bold"},ie={class:"text-dark-gray mt-1"},ne=e("th",{scope:"row",style:{width:"22%"}},"明細",-1),ce={colspan:"2"},me={class:"list-unstyled mb-0 text-dark-gray"},pe=e("tr",null,[e("th",{scope:"row",style:{width:"22%"}},"狀態"),e("td",{colspan:"2"},[e("div",{class:"d-flex gap-2"},[e("i",{class:"bi bi-alarm-fill text-info"}),e("span",{class:"text-dark-gray"},"通知付款")])])],-1),ue={class:"col-md-6 col-lg-7 px-xl-4"},_e={class:"d-none p-5"},he=e("h3",{class:"fs-5"},"會員資料",-1),be={ref:"form-member"},ye={class:"form-floating mb-3"},fe=e("input",{type:"email",class:"form-control",id:"floatingEmail",name:"email",placeholder:"請輸入email",disabled:""},null,-1),ve=e("label",{for:"floatingEmail",class:"form-label"},"Email",-1),ge={class:"row"},xe={class:"col"},ke={class:"form-floating mb-3"},Ve=e("input",{type:"text",class:"form-control",id:"floatingName",name:"姓名",placeholder:"請輸入姓名",disabled:""},null,-1),Te=e("label",{for:"floatingName",class:"form-label"},"收件人姓名",-1),we={class:"col"},Ce={class:"form-floating mb-3"},Oe=e("input",{type:"tel",class:"form-control",id:"floatingTel",name:"手機",disabled:""},null,-1),Pe=e("label",{for:"floatingTel",class:"form-label"},"手機",-1),Ie={class:"rounded-5 border border-5 border-light p-5 mb-3"},De=e("h3",{class:"fs-5"},"發票類型",-1),Me={class:"row row-cols-1 gy-2"},qe={class:"col"},Ue={class:"rounded-5 border border-light border-3 p-4"},Se={class:"row row-cols-1 row-cols-sm-2 gy-3"},Fe={class:"col"},Ee={class:"form-check ps-10"},Ne=e("label",{class:"form-check-label text-dark-gray",for:"invoice-individual"}," 個人發票 ",-1),He={class:"col"},je=e("label",{for:"手機載具",class:"form-label text-dark-gray"},"手機載具",-1),Ae={class:"input-group"},Be={class:"col"},Ye={class:"rounded-5 border border-light border-3 p-4"},ze={class:"row row-cols-1 row-cols-sm-2 gy-3"},Le={class:"col"},Ge={class:"form-check ps-10"},Je=e("label",{class:"form-check-label text-dark-gray",for:"invoice-company"}," 公司發票 ",-1),Ke={class:"col"},Qe=e("label",{for:"統一編號",class:"form-label text-dark-gray"},"統一編號",-1),Re={class:"input-group mb-2"},We=e("label",{for:"公司抬頭",class:"form-label text-dark-gray"},"公司抬頭",-1),Xe={class:"input-group"},Ze={class:"rounded-5 border border-5 border-light p-5"},$e=e("h3",{class:"fs-5"},"付款方式",-1),es={class:"row row-cols-1 gy-2 mb-3"},ss={class:"col"},ls={class:"rounded-5 border border-light border-3 p-4"},ts={class:"row mb-3"},os={class:"col"},ds={class:"form-check ps-10"},as=e("label",{class:"form-check-label text-dark-gray",for:"credit-card"}," 線上刷卡 ",-1),rs={class:"row row-cols-2"},is={class:"col-4 pe-0"},ns=e("label",{for:"持卡人",class:"form-label text-dark-gray"},"持卡人",-1),cs={class:"input-group mb-2"},ms={class:"col-8 ps-2"},ps=e("label",{for:"信用卡號碼",class:"form-label text-dark-gray"},"信用卡號碼",-1),us={class:"input-group"},_s={class:"row row-cols-3"},hs={class:"col pe-0"},bs=e("label",{for:"有效期限",class:"form-label text-dark-gray"},"有效期限",-1),ys={class:"input-group mb-4"},fs={class:"col px-2"},vs={class:"input-group"},gs={class:"col ps-0"},xs=e("label",{for:"安全碼",class:"form-label text-dark-gray"},"安全碼",-1),ks={class:"input-group mb-4"},Vs={class:"col"},Ts={class:"rounded-5 border border-light border-3 p-4"},ws={class:"row mb-4"},Cs={class:"col"},Os={class:"form-check ps-10"},Ps=e("label",{class:"form-check-label text-dark-gray",for:"bank-transfer"}," ATM虛擬帳號轉帳 ",-1),Is=e("div",{class:"row"},[e("div",{class:"col"},[e("div",{class:"d-flex gap-2 mb-2 text-dark-gray"},[e("span",null,"銀行名稱："),e("span",null,"六角銀行")]),e("div",{class:"d-flex gap-2 mb-2 text-dark-gray"},[e("span",null,"銀行代碼："),e("span",null,"xxx")]),e("div",{class:"d-flex gap-2 mb-2 text-dark-gray"},[e("span",null,"繳費帳號："),e("span",null,"xxxx xxxx xxxx xxxx")])])],-1),Ds=e("div",{class:"text-end"},[e("button",{type:"submit",class:"btn btn-primary text-white"},"確認付款")],-1);function Ms(a,t,b,qs,s,m){const g=_("OrderHeader"),i=_("ErrorMessage"),n=_("VField"),x=_("VForm");return p(),u(h,null,[l(g,{currentFundraisingSteps:s.currentFundraisingSteps},null,8,["currentFundraisingSteps"]),U,e("div",S,[e("div",F,[e("div",E,[e("div",N,[e("div",H,[e("div",j,[e("div",A,[e("div",B,[e("div",Y,[e("div",z,[L,a.tempOrder.create_at?(p(),u("span",G,r(m.formatDate(a.tempOrder.create_at).formattedDate)+" "+r(m.formatDate(a.tempOrder.create_at).formattedTime),1)):y("",!0)]),e("div",J,[K,e("span",null,r(a.tempOrder.id),1)])]),Q])]),e("div",R,[e("div",W,[e("div",X,[(p(!0),u(h,null,f(a.tempOrder.products,d=>(p(),u("table",{key:d.id,class:"table table-border mb-0"},[Z,e("tbody",$,[e("tr",null,[ee,e("td",null,[e("span",se,"NT$ "+r(d.total)+"元",1),d.coupon?(p(),u("div",le,[te,e("span",oe,"已使用優惠卷："+r(d.coupon.code),1),e("span",de,r(d.coupon.title),1)])):y("",!0)])]),e("tr",null,[ae,e("td",null,[e("span",re,r(d.product.short_title)+r(d.qty)+"套",1),e("div",ie,[I(" 完整 1 套內含： "),(p(!0),u(h,null,f(d.product.contents,(o,k)=>(p(),u("ul",{key:k,class:"list-unstyled mb-0"},[e("li",null,r(o),1)]))),128))])])]),e("tr",null,[ne,e("td",ce,[e("ul",me,[e("li",null,"姓名："+r(a.tempOrder.user.name),1),e("li",null,"手機："+r(a.tempOrder.user.tel),1),e("li",null,"Email："+r(a.tempOrder.user.email),1),e("li",null,"運送："+r(a.tempOrder.user.shipment),1),e("li",null,"地址："+r(a.tempOrder.user.postcode)+r(a.tempOrder.user.country)+r(a.tempOrder.user.city)+r(a.tempOrder.user.region)+r(a.tempOrder.user.address),1),e("li",null,"備註："+r(a.tempOrder.user.message),1)])])]),pe])]))),128))])])])])])]),e("div",ue,[l(x,{ref:"formPayment",onSubmit:m.onSubmit},{default:O(({errors:d})=>[e("div",_e,[he,e("form",be,[e("div",ye,[fe,ve,l(i,{name:"email",class:"invalid-feedback"})]),e("div",ge,[e("div",xe,[e("div",ke,[Ve,Te,l(i,{name:"姓名",class:"invalid-feedback"})])]),e("div",we,[e("div",Ce,[Oe,Pe,l(i,{name:"手機",class:"invalid-feedback"})])])])],512)]),e("div",Ie,[De,e("div",Me,[e("div",qe,[e("div",Ue,[e("div",Se,[e("div",Fe,[e("div",Ee,[l(n,{onChange:m.clearInput,modelValue:s.selectedInvoiceType,"onUpdate:modelValue":t[0]||(t[0]=o=>s.selectedInvoiceType=o),rules:"required",class:c([{"is-invalid":d.發票類型},"form-check-input"]),type:"radio",value:"individual",style:{"margin-left":"-2rem"},name:"發票類型",id:"invoice-individual"},null,8,["onChange","modelValue","class"]),Ne,l(i,{name:"發票類型",class:"invalid-feedback"})])]),e("div",He,[je,e("div",Ae,[l(n,{modelValue:s.mobile_carrier,"onUpdate:modelValue":t[1]||(t[1]=o=>s.mobile_carrier=o),modelModifiers:{trim:!0},rules:s.selectedInvoiceType==="individual"?"required":"",disabled:s.selectedInvoiceType==="company",class:c([{"is-invalid":d.手機載具},"form-control placeholder-light"]),type:"text",name:"手機載具",placeholder:"請填入手機載具"},null,8,["modelValue","rules","disabled","class"]),l(i,{name:"手機載具",class:"invalid-feedback"})])])])])]),e("div",Be,[e("div",Ye,[e("div",ze,[e("div",Le,[e("div",Ge,[l(n,{onChange:m.clearInput,modelValue:s.selectedInvoiceType,"onUpdate:modelValue":t[2]||(t[2]=o=>s.selectedInvoiceType=o),rules:"required",class:c([{"is-invalid":d.發票類型},"form-check-input"]),type:"radio",value:"company",style:{"margin-left":"-2rem"},name:"發票類型",id:"invoice-company"},null,8,["onChange","modelValue","class"]),Je,l(i,{name:"發票類型",class:"invalid-feedback"})])]),e("div",Ke,[Qe,e("div",Re,[l(n,{modelValue:s.company_ubn,"onUpdate:modelValue":t[3]||(t[3]=o=>s.company_ubn=o),modelModifiers:{trim:!0},rules:s.selectedInvoiceType==="company"?"required":"",disabled:s.selectedInvoiceType==="individual",class:c([{"is-invalid":d.統一編號},"form-control placeholder-light"]),type:"text",name:"統一編號",placeholder:"請填入統一編號"},null,8,["modelValue","rules","disabled","class"]),l(i,{name:"統一編號",class:"invalid-feedback"})]),We,e("div",Xe,[l(n,{modelValue:s.company_name,"onUpdate:modelValue":t[4]||(t[4]=o=>s.company_name=o),modelModifiers:{trim:!0},rules:s.selectedInvoiceType==="company"?"required":"",disabled:s.selectedInvoiceType==="individual",class:c([{"is-invalid":d.公司抬頭},"form-control placeholder-light"]),type:"text",name:"公司抬頭",placeholder:"請填入公司抬頭"},null,8,["modelValue","rules","disabled","class"]),l(i,{name:"公司抬頭",class:"invalid-feedback"})])])])])])])]),e("div",Ze,[$e,e("div",es,[e("div",ss,[e("div",ls,[e("div",ts,[e("div",os,[e("div",ds,[l(n,{onChange:m.clearInput,modelValue:s.selectedPaymentType,"onUpdate:modelValue":t[5]||(t[5]=o=>s.selectedPaymentType=o),rules:"required",class:c([{"is-invalid":d.付款方式},"form-check-input"]),type:"radio",value:"creditCard",style:{"margin-left":"-2rem"},name:"付款方式",id:"credit-card"},null,8,["onChange","modelValue","class"]),as,l(i,{name:"付款方式",class:"invalid-feedback"})])])]),e("div",rs,[e("div",is,[ns,e("div",cs,[l(n,{modelValue:s.cardHolder,"onUpdate:modelValue":t[6]||(t[6]=o=>s.cardHolder=o),modelModifiers:{trim:!0},rules:s.selectedPaymentType==="creditCard"?"required":"",disabled:s.selectedPaymentType==="bankTransfer",class:c([{"is-invalid":d.持卡人},"form-control placeholder-light"]),type:"text",name:"持卡人",placeholder:"請填入姓名"},null,8,["modelValue","rules","disabled","class"]),l(i,{name:"持卡人",class:"invalid-feedback"})])]),e("div",ms,[ps,e("div",us,[l(n,{modelValue:s.creditCard_number,"onUpdate:modelValue":t[7]||(t[7]=o=>s.creditCard_number=o),modelModifiers:{trim:!0},rules:s.selectedPaymentType==="creditCard"?"required":"",disabled:s.selectedPaymentType==="bankTransfer",class:c([{"is-invalid":d.信用卡號碼},"form-control placeholder-light"]),type:"text",name:"信用卡號碼",placeholder:"請填入卡號"},null,8,["modelValue","rules","disabled","class"]),l(i,{name:"信用卡號碼",class:"invalid-feedback"})])])]),e("div",_s,[e("div",hs,[bs,e("div",ys,[l(n,{modelValue:s.expiryDate_month,"onUpdate:modelValue":t[8]||(t[8]=o=>s.expiryDate_month=o),modelModifiers:{trim:!0},rules:s.selectedPaymentType==="creditCard"?"required":"",disabled:s.selectedPaymentType==="bankTransfer",class:c([{"is-invalid":d.有效月份},"form-control placeholder-light"]),type:"text",name:"有效月份",placeholder:"MM"},null,8,["modelValue","rules","disabled","class"]),l(i,{name:"有效月份",class:"invalid-feedback"})])]),e("div",fs,[e("div",vs,[l(n,{modelValue:s.expiryDate_year,"onUpdate:modelValue":t[9]||(t[9]=o=>s.expiryDate_year=o),modelModifiers:{trim:!0},rules:s.selectedPaymentType==="creditCard"?"required":"",disabled:s.selectedPaymentType==="bankTransfer",class:c([{"is-invalid":d.有效年份},"form-control placeholder-light align-self-end"]),type:"text",name:"有效年份",placeholder:"YY",style:{"margin-top":"32px"}},null,8,["modelValue","rules","disabled","class"]),l(i,{name:"有效年份",class:"invalid-feedback"})])]),e("div",gs,[xs,e("div",ks,[l(n,{modelValue:s.creditCard_cvv,"onUpdate:modelValue":t[10]||(t[10]=o=>s.creditCard_cvv=o),modelModifiers:{trim:!0},rules:s.selectedPaymentType==="creditCard"?"required":"",disabled:s.selectedPaymentType==="bankTransfer",class:c([{"is-invalid":d.安全碼},"form-control placeholder-light"]),type:"text",name:"安全碼",placeholder:"CVV"},null,8,["modelValue","rules","disabled","class"]),l(i,{name:"安全碼",class:"invalid-feedback"})])])])])]),e("div",Vs,[e("div",Ts,[e("div",ws,[e("div",Cs,[e("div",Os,[l(n,{onChange:m.clearInput,modelValue:s.selectedPaymentType,"onUpdate:modelValue":t[11]||(t[11]=o=>s.selectedPaymentType=o),rules:"required",class:c([{"is-invalid":d.付款方式},"form-check-input"]),type:"radio",value:"bankTransfer",style:{"margin-left":"-2rem"},name:"付款方式",id:"bank-transfer"},null,8,["onChange","modelValue","class"]),Ps,l(i,{name:"付款方式",class:"invalid-feedback"})])])]),Is])])]),Ds])]),_:1},8,["onSubmit"])])])])])],64)}const Ys=V(q,[["render",Ms]]);export{Ys as default};
