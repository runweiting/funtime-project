import{B as m,D as a}from"./index-DW-YAaVl.js";import{s as r}from"./showSuccessToast-4Q0mJWPL.js";import{s as n}from"./showErrorToast-3Rr6__rM.js";var h={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"runweiting",BASE_URL:"/funtime-project/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_URL:c,VITE_APP_PATH:p}=h,P=m("couponsStore",{state:()=>({couponList:[],pagination:{},couponState:{},currentPage:null}),actions:{getCoupons(t=1){const s=`${c}/api/${p}/admin/coupons?page=${t}`;a.get(s).then(o=>{const{coupons:e,pagination:u}=o.data,d=e.map(i=>({...i,is_enabled:!!i.is_enabled}));this.couponList=d,this.pagination=u,this.currentPage=t}).catch(o=>{n(o.response.data.message)})},async postCoupon(t){const s=`${c}/api/${p}/coupon`;try{const o=await a.post(s,{data:{code:t}});this.couponState=o.data,r(o.data.message)}catch(o){n(o.response.data.message)}},clearCoupon(){this.couponState={}},deleteCoupon(t,s){const o=`${c}/api/${p}/admin/coupon/${t}`;a.delete(o).then(e=>{r(e.data.message),this.getCoupons(s)}).catch(e=>{n(e.response.data.message)})}}});export{P as c};
